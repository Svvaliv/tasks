'''
–î–æ–±–∞–≤–ª—è–µ—Ç–µ —ç—Ç–æ—Ç –∫–æ–¥ –∫ —Å–≤–æ–µ–π –ø—Ä–æ–≥—Ä–∞–º–º–µ (–µ—Å–ª–∏ –≤ —É—Ä–æ–∫–µ –µ—Å—Ç—å –∞—Ä—Ö–∏–≤ —Å —Ç–µ—Å—Ç–æ–≤—ã–º–∏ –¥–∞–Ω–Ω—ã–º–∏).
–ü–µ—Ä–µ–º–µ–Ω–Ω–æ–π "filename" –ø—Ä–∏—Å–≤–∞–∏–≤–∞–µ—Ç–µ –∑–Ω–∞—á–µ–Ω–∏–µ - –ø—É—Ç—å –¥–æ —Ñ–∞–π–ª–∞ —Å —Ç–µ—Å—Ç–æ–≤—ã–º–∏ –¥–∞–Ω–Ω—ã–º–∏.
–ó–∞–ø—É—Å–∫–∞–µ—Ç–µ –ø—Ä–æ–≥—Ä–∞–º–º—É. –ï—Å–ª–∏ –≤—Å—ë –ø—Ä–∞–≤–∏–ª—å–Ω–æ, –≤—ã–≤–æ–¥ –±—É–¥–µ—Ç –ø—Ä–∏–º–µ—Ä–Ω–æ —Ç–∞–∫–∏–º:
–í–∞—à —Ä–µ–∑—É–ª—å—Ç–∞—Ç:
1
-2
----------------------------------------------------------------------------------------------------
–û–∂–∏–¥–∞–µ–º—ã–π —Ä–µ–∑—É–ª—å—Ç–∞—Ç:
1
-2
****************************************************************************************************
...
'''

def testing_lesson(filename: str):
    '''–§—É–Ω–∫—Ü–∏—è —Ä–∞—Å–ø–∞–∫–æ–≤—ã–≤–µ—Ç –∞—Ä—Ö–∏–≤ —Å —Ç–µ—Å—Ç–æ–≤—ã–º–∏ –¥–∞–Ω–Ω—ã–º–∏, –∑–∞—Ç–µ–º –≤—ã–ø–æ–ª–Ω—è–µ—Ç –∫–æ–¥ –∏–∑ –∫–∞–∂–¥–æ–≥–æ —Ñ–∞–π–ª–∞ –∏ –≤—ã–≤–æ–¥–∏—Ç
    —Ä–µ–∑—É–ª—å—Ç–∞—Ç –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è –≤–∞—à–µ–≥–æ –∫–æ–¥–∞ –∏ –æ–∂–∏–¥–∞–µ–º—ã–π —Ä–µ–∑—É–ª—å—Ç–∞—Ç'''
    from zipfile import ZipFile

    with ZipFile(filename) as z:
        p = filename[:-4]
        z.extractall(path=p)
        length = len(z.namelist()) // 2

    for i in range(1, length + 1):
        with open(f'{p}/{i}') as fi:
            with open(f'{p}/{i}.clue') as fo:
                code, out = fi.read(), fo.read()
                print(f'–¢–µ—Å—Ç ‚Ññ {i} –∏–∑ {length}')
                print('–í–∞—à —Ä–µ–∑—É–ª—å—Ç–∞—Ç:')
                try:
                    exec(code)
                    print(f"{'-' * 100}\n–û–∂–∏–¥–∞–µ–º—ã–π —Ä–µ–∑—É–ª—å—Ç–∞—Ç:\n{out}\n{'*' * 100}")
                except Exception as e:
                    print(f'{"üö´" * 50}\n"–¢–µ—Å—Ç ‚Ññ {i} –∑–∞–≤–µ—Ä—à–∏–ª—Å—è —Å `–æ—à–∏–±–∫–æ–π "{type(e).__name__}: {e}\n–ö–æ–¥: \n\n{code}\n')
                    print(f'–û–∂–∏–¥–∞–µ–º—ã–π —Ä–µ–∑—É–ª—å—Ç–∞—Ç: \n{out}\n{"üö´" * 50}"\n')


filename = 'data/tests/tests_2777710.zip'
testing_lesson(filename)
